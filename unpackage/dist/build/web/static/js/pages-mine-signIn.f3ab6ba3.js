(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-signIn"],{"62e4e":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("aa9c"),a("64aa"),a("dd2b"),a("5c47"),a("a1c1");var n=i(a("2634")),d=i(a("2fdc")),r=a("f5ce"),s={data:function(){return{aiderLightColor:this.$aiderLightColor,signFlag:!1,animationData:{},maskFlag:!1,transFlag:!1,weekArr:["日","一","二","三","四","五","六"],dateArr:[],monthArr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],currentMonth:"",currentMonthIndex:"",currentYear:"",currentDay:"",currentWeek:"",dataObj:[],signArr:[],signAll:[],ifSign:!1}},onLoad:function(){var t=this;return(0,d.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,r.signTime)((new Date).getFullYear()+""+t.makeUp((new Date).getMonth()+1));case 2:a=e.sent,t.signAll=a.data.result,t.getDate();case 5:case"end":return e.stop()}}),e)})))()},methods:{makeUp:function(t){return t>=10?t:"0"+t},signIn:function(){var t=this;return(0,d.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,r.sign)().then((function(e){if(!t.ifSign&&!t.signFlag){if(200!=e.data.code)return uni.showToast({title:e.data.message,duration:2e3,icon:"none"}),!1;var a=t,i=uni.createAnimation({duration:200,timingFunction:"linear"});t.signArr.push(t.currentDay),t.animation=i,i.rotateY(0).step(),t.animationData=i.export(),setTimeout(function(){a.signFlag=!0,this.maskFlag=!0,this.ifSign=!this.ifSign,i.rotateY(0).step(),this.animationData=i.export()}.bind(t),200)}}));case 2:case"end":return e.stop()}}),e)})))()},close:function(){var t=this;this.maskFlag=!1,this.transFlag=!0,setTimeout((function(){t.transFlag=!1}),500)},getDate:function(){var t,e=new Date,a=e.getMonth();this.currentYear=e.getFullYear(),this.currentMonth=this.monthArr[a],this.currentMonthIndex=a+1,this.currentDay=e.getDate(),this.currentDay==this.signArr[this.signArr.length-1]&&(this.ifSign=!0),t=this.getWeekByDay(this.currentYear+"-"+(a+1)+"-1"),this.getMonthDays(a,t),this.curentSignData()},curentSignData:function(){var t=new Date,e=t.getMonth();this.signArr=[];for(var a=0;a<this.signAll.length;a++){var i=this.signAll[a];i.createTime=i.createTime.split(" ")[0];var n=i.createTime.split("-");Number(n[0])===Number(this.currentYear)&&Number(n[1])===Number(this.currentMonthIndex)&&this.signArr.push(Number(n[2])),Number(n[0])===Number(t.getFullYear())&&Number(n[1])===Number(e+1)&&Number(n[2])===Number(t.getDate())&&(this.ifSign=!0)}},getMonthDays:function(t,e){this.dateArr=[],this.dataObj=[];for(var a=0;a<e;a++)this.dateArr.push("");if(0==t||2==t||4==t||6==t||7==t||9==t||11==t)for(var i=1;i<32;i++)this.dateArr.push(i);if(3==t||5==t||8==t||10==t)for(var n=1;n<31;n++)this.dateArr.push(n);if(1==t)if(this.currentYear%4==0&&this.currentYear%100!=0||this.currentYear%400==0)for(var d=1;d<30;d++)this.dateArr.push(d);else for(var r=1;r<29;r++)this.dateArr.push(r);for(var s=0;s<10;s++)if(this.dateArr.length>7)this.dataObj.push(this.dateArr.splice(0,7));else for(var o=0;o<7-this.dateArr.length;o++)this.dateArr.push("");this.dataObj.push(this.dateArr)},getWeekByDay:function(t){var e=new Date(Date.parse(t.replace(/-/g,"/"))).getDay();return e}}};e.default=s},"82fa":function(t,e,a){var i=a("c4f1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("565f360e",i,!0,{sourceMap:!1,shadowMode:!1})},c4f1:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/*主题颜色 具体参考   https://ant.design/docs/spec/colors-cn */\n/**微信登录按钮颜色 */\n/**主颜色*/\n/*用于金钱等颜色 */\n/*主题高亮颜色*/\n/*辅助高亮颜色*/\n/*主题高亮背景颜色*/\n/*价格红高亮背景颜色*/\n/*辅助色*/.light-color[data-v-0de4cddb]{color:#ff6b35}.main-color[data-v-0de4cddb]{color:#ff3c2a!important}.bg-light-color[data-v-0de4cddb]{background-color:#ff6b35!important}.bg-light-color[data-v-0de4cddb]  *{background-color:#ff6b35!important}.bg-main-color[data-v-0de4cddb]{background-color:#ff3c2a!important}.bg-linear-gradient[data-v-0de4cddb]{background-image:linear-gradient(25deg,#fa123b,#ff6b35,#ff9f28,#ffcc03)}.uni-tabbar .uni-tabbar__icon[data-v-0de4cddb]{width:20px;height:18px}.flex[data-v-0de4cddb]{display:flex}.btn[data-v-0de4cddb]{background-color:#ff6b35;color:#fff;border-width:0;border:none;border-radius:44px;height:44px;box-shadow:none;font-weight:400;font-style:normal;line-height:44px;text-align:center}.btn[data-v-0de4cddb]::after{border:none}.button-hover[data-v-0de4cddb]{opacity:.7}.margin[data-v-0de4cddb]{margin:10px}.tag[data-v-0de4cddb]{background-color:#f2f2f2;color:#333;height:28px;border-radius:28px;box-shadow:none;font-family:PingFangSC-Regular,PingFang SC,sans-serif;font-weight:400;font-style:normal;line-height:28px;text-align:center;width:90px}.c-content[data-v-0de4cddb]{background-color:#fff;border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.mt-30[data-v-0de4cddb]{margin-top:%?30?%}.border-top[data-v-0de4cddb]{border-top:1px solid #ebeef5}.describe[data-v-0de4cddb]{color:#909399;font-size:%?24?%;padding:%?30?%}.flex-center[data-v-0de4cddb]{display:flex;align-items:center;justify-content:center;flex-direction:column}.flex-a-c[data-v-0de4cddb]{align-items:center}.flex-j-sb[data-v-0de4cddb]{justify-content:space-between}.relative[data-v-0de4cddb]{position:relative}.wes[data-v-0de4cddb]{\n  /* 多出部分用省略号表示 , 用于一行 */overflow:hidden;word-wrap:normal;white-space:nowrap;text-overflow:ellipsis}.wes-2[data-v-0de4cddb]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.wes-3[data-v-0de4cddb]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}.date-card[data-v-0de4cddb]{padding:0 %?32?%;margin:%?32?% 0;box-shadow:0 %?4?% %?24?% 0 #f6f6f6}.tips[data-v-0de4cddb]{margin-top:%?54?%;color:#999;font-size:%?24?%;letter-spacing:%?1?%}.circle-box[data-v-0de4cddb]{width:%?200?%;height:%?200?%;border-radius:50%;background:#ff9f28;box-shadow:0 %?4?% %?24?% 0 #ff9f28;display:flex;justify-content:center;align-items:center}.cricle[data-v-0de4cddb]{width:%?160?%;height:%?160?%;border-radius:50%;background:#ff9f28;text-align:center;line-height:%?160?%;color:#fff;font-size:%?40?%}.current-month[data-v-0de4cddb]{width:100%;margin:%?20?% 0}.box[data-v-0de4cddb]{display:flex;flex-direction:column;align-items:center;padding:%?64?% %?32?%;background:#fff;border-radius:%?20?%}.sign-in[data-v-0de4cddb]{color:#333}.sign-in .date-con[data-v-0de4cddb]{background:#fff;min-height:%?730?%;border-radius:%?20?%;padding:0 %?28?%}.sign-in .day[data-v-0de4cddb]{font-size:%?36?%}.sign-in .day > span[data-v-0de4cddb]{font-size:%?30?%;color:#999;margin-left:%?20?%}.sign-in .date-tit[data-v-0de4cddb]{display:flex;justify-content:space-between;margin:0 0 %?30?% 0}.sign-in .week[data-v-0de4cddb]{display:flex;justify-content:space-between;color:#a6a6a6;font-size:%?26?%}.sign-in .week uni-text[data-v-0de4cddb]{width:%?66?%;text-align:center}.sign-in .date[data-v-0de4cddb]{margin:%?10?% 0 %?36?%;display:flex;justify-content:space-between;flex-wrap:wrap}.sign-in .date .item[data-v-0de4cddb]{width:%?66?%;height:%?80?%;border-radius:5px;overflow:hidden;position:relative}.sign-in .date .item.hide[data-v-0de4cddb]{opacity:0}.sign-in .date .item .just[data-v-0de4cddb],\n.sign-in .date .item .back[data-v-0de4cddb]{display:flex;flex-direction:column;width:100%;height:100%;position:absolute}.sign-in .date .item .just .top[data-v-0de4cddb],\n.sign-in .date .item .back .top[data-v-0de4cddb]{position:relative;flex:1;text-align:center;line-height:%?40?%}.sign-in .date .item .just .top[data-v-0de4cddb]:before,\n.sign-in .date .item .back .top[data-v-0de4cddb]:before{content:"";width:%?40?%;height:%?40?%;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:%?15?%}.sign-in .date .item .just.active[data-v-0de4cddb]{display:none}.sign-in .date .item .back[data-v-0de4cddb]{display:none}.sign-in .date .item .back.active[data-v-0de4cddb]{display:flex}.sign-in .date .item .back .top[data-v-0de4cddb]{color:#ff9f28}.sign-in .date .item .bottom[data-v-0de4cddb]{color:#999;font-size:%?20?%;height:%?20?%;line-height:%?20?%;text-align:center}.sign-in .mask[data-v-0de4cddb]{position:fixed;top:0;bottom:0;left:-100%;right:100%;background:rgba(0,0,0,.2);display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transition:opacity .5s}.sign-in .mask.show[data-v-0de4cddb]{opacity:1;left:0;right:0}.sign-in .mask.trans[data-v-0de4cddb]{left:0;right:0}.sign-in .mask .mask-header[data-v-0de4cddb]{width:%?540?%;height:%?130?%;line-height:%?130?%;background:#ff9f28;color:#fff;font-size:%?40?%;font-weight:500;display:flex;justify-content:space-between}.sign-in .mask .mask-header .close[data-v-0de4cddb]{width:%?60?%;font-size:%?66?%;font-weight:400;line-height:%?60?%}.sign-in .mask .mask-con[data-v-0de4cddb]{width:%?540?%;height:%?380?%;background:#fff;display:flex;flex-direction:column;align-items:center;color:#999;font-size:%?24?%;border-radius:0 0 9px 9px}.sign-in .mask .mask-con .keep-sign[data-v-0de4cddb]{font-size:%?30?%;margin-top:%?30?%}.sign-in .mask .mask-con .keep-sign uni-text[data-v-0de4cddb]{font-size:%?46?%;font-weight:500;color:#999;padding:0 %?6?% 0 %?8?%}.sign-in .mask .mask-con .mark[data-v-0de4cddb]{display:flex;align-items:flex-end;position:relative;margin-bottom:%?16?%}.sign-in .mask .mask-con .mark uni-text[data-v-0de4cddb]{margin-left:%?4?%;color:#999}.sign-in .mask .mask-con .text[data-v-0de4cddb]{color:#6f6f6f;height:%?90?%}',""]),t.exports=e},c7b9:function(t,e,a){"use strict";var i=a("82fa"),n=a.n(i);n.a},cc71:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return d})),a.d(e,"a",(function(){return i}));var i={uIcon:a("de2e").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"sign-in"},[a("v-uni-view",{staticClass:"date-card"},[a("div",{staticClass:"box"},[a("div",{staticClass:"circle-box"},[a("div",{staticClass:"cricle",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.signIn()}}},[t.ifSign?a("span",{class:{active:t.signFlag||t.ifSign},style:t.ifSign?"transform: rotateY(0deg);":""},[t._v(t._s(t.$t("points.signed")))]):a("span",{class:{active:t.signFlag||t.ifSign}},[t._v(t._s(t.$t("common.signIn")))])])]),a("v-uni-text",{staticClass:"tips"},[t._v(t._s(t.$t("points.signInTips")))])],1)]),a("div",{staticClass:"date-card"},[a("v-uni-view",{staticClass:"date-con"},[a("v-uni-view",{staticClass:"date-tit"},[a("div",{staticClass:"current-month"},[a("div",{staticClass:"day"},[t._v(t._s(t.$t("points.dailyRecord"))),a("span",[t._v(" ("+t._s(t.currentMonth)+")")])])])]),a("v-uni-view",{staticClass:"week"},t._l(t.weekArr,(function(e){return a("v-uni-text",{key:e.id},[t._v(t._s(e))])})),1),t._l(t.dataObj,(function(e){return a("v-uni-view",{key:e.id,staticClass:"date"},t._l(e,(function(e){return a("v-uni-view",{key:e.id,staticClass:"item",class:""==e?"hide":"",attrs:{animation:e==t.currentDay?t.animationData:""}},[a("v-uni-view",{staticClass:"just",class:-1!=t.signArr.indexOf(e)?"active":""},[a("v-uni-view",{staticClass:"top"},[t._v(t._s(e)+" ")]),a("v-uni-view",{staticClass:"bottom"},[e<=t.currentDay?a("u-icon",{attrs:{name:"error",color:"#999"}}):t._e()],1)],1),a("v-uni-view",{staticClass:"back",class:-1!=t.signArr.indexOf(e)?"active":"",style:-1!=t.signArr.indexOf(e)&&t.ifSign||-1!=t.signArr.indexOf(e)&&e!=t.currentDay?"transform: rotateY(0deg);":""},[a("v-uni-view",{staticClass:"top"},[t._v(t._s(e))]),a("v-uni-view",{staticClass:"bottom"},[a("u-icon",{attrs:{name:"checkmark",color:t.aiderLightColor}})],1)],1)],1)})),1)}))],2)],1),a("v-uni-view",{ref:"mask",staticClass:"mask",class:{show:t.maskFlag,trans:t.transFlag}},[a("v-uni-view",{staticClass:"mask-header"},[a("v-uni-text",{staticClass:"close"}),a("v-uni-text",[t._v(t._s(t.$t("points.signInSuccess")))]),a("v-uni-text",{staticClass:"close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[t._v("×")])],1),a("v-uni-view",{staticClass:"mask-con"},[a("u-icon",{staticStyle:{margin:"50rpx 0"},attrs:{size:"120",color:t.aiderLightColor,name:"checkmark"}}),a("v-uni-text",{staticClass:"text"},[t._v(t._s(t.$t("points.signInTips")))])],1)],1)],1)},d=[]},cd57:function(t,e,a){"use strict";a.r(e);var i=a("62e4e"),n=a.n(i);for(var d in i)["default"].indexOf(d)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(d);e["default"]=n.a},d8d5:function(t,e,a){"use strict";a.r(e);var i=a("cc71"),n=a("cd57");for(var d in n)["default"].indexOf(d)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(d);a("ede4"),a("c7b9");var r=a("828b"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"0de4cddb",null,!1,i["a"],void 0);e["default"]=s.exports},e241:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,"uni-page-body[data-v-0de4cddb]{background:#f7f7f7}body.?%PAGE?%[data-v-0de4cddb]{background:#f7f7f7}",""]),t.exports=e},e5af:function(t,e,a){var i=a("e241");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("163bd10e",i,!0,{sourceMap:!1,shadowMode:!1})},ede4:function(t,e,a){"use strict";var i=a("e5af"),n=a.n(i);n.a},f5ce:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.sign=function(){return i.http.request({url:"/members/sign",method:i.Method.POST,needToken:!0})},e.signTime=function(t){return i.http.request({url:"/members/sign?time="+t,method:i.Method.GET,needToken:!0})};var i=a("f25a")}}]);