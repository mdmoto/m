(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-promotion-seckill"],{"249d":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={uNavbar:i("6d19").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"sale"},[i("u-navbar",{attrs:{title:"限时抢购"}}),i("v-uni-view",{staticClass:"header-wraper"},[i("v-uni-image",{attrs:{mode:"widthFix",src:"/static/seckill.png"}})],1),i("v-uni-scroll-view",{attrs:{"scroll-x":!0}},[i("v-uni-view",{staticClass:"index-navs"},[i("v-uni-view",{staticClass:"index-nav-v"},e._l(e.timeLine,(function(t,a){return i("v-uni-view",{key:a,staticClass:"index-nav",class:{"index-nav-active":e.nav==a},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickNavigateTime(a)}}},[e._v(" "+e._s(t.timeLine)+":00 "),i("v-uni-view",{staticClass:"index-nav-desc"},[e._v(e._s(0===a&&0===t.distanceStartTime?"抢购中":"即将开始")+" ")])],1)})),1)],1)],1),e.goodsList.length>0?i("v-uni-view",{staticClass:"sale-items"},[i("goodsTemplate",{attrs:{res:e.goodsList}})],1):i("v-uni-view",[i("v-uni-view",{staticClass:"nodata"},[i("v-uni-image",{staticStyle:{height:"240rpx",width:"320rpx"},attrs:{src:"/static/nodata.png",alt:""}}),i("div",[e._v("暂无商品")])],1)],1)],1)},o=[]},3833:function(e,t,i){"use strict";i.r(t);var a=i("623a"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"623a":function(e,t,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("4100"),i("64aa"),i("f7a5"),i("e966");var n=a(i("2634")),o=a(i("2fdc")),r=i("0df5"),s=a(i("1ef4")),c=a(i("547d")),d={components:{goodsTemplate:c.default},data:function(){return{nav:0,timeLine:"",resTime:0,time:0,times:{},onlyOne:"",goodsList:[],params:{pageNumber:1,pageSize:10}}},onShow:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTimeLine();case 2:if(e.timeLine){t.next=5;break}return t.next=5,uni.showToast({icon:"none",duration:2e3,title:"今天没有活动，明天再来吧"});case 5:e._setTimeInterval=setInterval((function(){e.time<=0?(clearInterval(e._setTimeInterval),e.getGoodsList(),e.getTimeLine()):(e.times=s.default.countTimeDown(e.time),e.time--)}),1e3);case 6:case"end":return t.stop()}}),t)})))()},onUnload:function(){this._setTimeInterval&&clearInterval(this._setTimeInterval)},methods:{getTimeLine:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var i,a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.getSeckillTimeLine)();case 2:i=t.sent,i.data.success&&i.data.result.length>0&&(a=i.data.result.sort((function(e,t){return Number(e.timeLine)-Number(t.timeLine)})),e.timeLine=a.slice(0,5),e.resTime=parseInt((new Date).getTime()/1e3),e.onlyOne=1===i.data.result.length,e.diffTime=parseInt((new Date).getTime()/1e3)-e.resTime,e.time=e.timeLine[e.nav].distanceStartTime||e.timeLine[e.nav+1]&&e.timeLine[e.nav+1].distanceStartTime||s.default.theNextDayTime()-e.diffTime,e.times=s.default.countTimeDown(e.time),e.getGoodsList());case 4:case"end":return t.stop()}}),t)})))()},getGoodsList:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var i;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.params.timeLine=e.timeLine[e.nav].timeLine,t.next=3,(0,r.getSeckillTimeGoods)(e.params.timeLine);case 3:i=t.sent,i.data.success&&0!=i.data.result.length?e.goodsList=i.data.result:e.goodsList=[];case 5:case"end":return t.stop()}}),t)})))()},clickNavigateTime:function(e){this.nav=e,this.goodsList=[],this.diffTime=parseInt((new Date).getTime()/1e3)-this.resTime,this.time=this.timeLine[this.nav].distanceStartTime||this.timeLine[this.nav+1]&&this.timeLine[this.nav+1].distanceStartTime||s.default.theNextDayTime()-this.diffTime,this.times=s.default.countTimeDown(this.time),this.getGoodsList()}}};t.default=d},"6eed":function(e,t,i){"use strict";var a=i("f314"),n=i.n(a);n.a},8272:function(e,t,i){var a=i("c86c");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/*主题颜色 具体参考   https://ant.design/docs/spec/colors-cn */\n/**微信登录按钮颜色 */\n/**主颜色*/\n/*用于金钱等颜色 */\n/*主题高亮颜色*/\n/*辅助高亮颜色*/\n/*主题高亮背景颜色*/\n/*价格红高亮背景颜色*/\n/*辅助色*/.light-color[data-v-5e7474c0]{color:#ff6b35}.main-color[data-v-5e7474c0]{color:#ff3c2a!important}.bg-light-color[data-v-5e7474c0]{background-color:#ff6b35!important}.bg-light-color[data-v-5e7474c0]  *{background-color:#ff6b35!important}.bg-main-color[data-v-5e7474c0]{background-color:#ff3c2a!important}.bg-linear-gradient[data-v-5e7474c0]{background-image:linear-gradient(25deg,#fa123b,#ff6b35,#ff9f28,#ffcc03)}.uni-tabbar .uni-tabbar__icon[data-v-5e7474c0]{width:20px;height:18px}.flex[data-v-5e7474c0]{display:flex}.btn[data-v-5e7474c0]{background-color:#ff6b35;color:#fff;border-width:0;border:none;border-radius:44px;height:44px;box-shadow:none;font-weight:400;font-style:normal;line-height:44px;text-align:center}.btn[data-v-5e7474c0]::after{border:none}.button-hover[data-v-5e7474c0]{opacity:.7}.margin[data-v-5e7474c0]{margin:10px}.tag[data-v-5e7474c0]{background-color:#f2f2f2;color:#333;height:28px;border-radius:28px;box-shadow:none;font-family:PingFangSC-Regular,PingFang SC,sans-serif;font-weight:400;font-style:normal;line-height:28px;text-align:center;width:90px}.c-content[data-v-5e7474c0]{background-color:#fff;border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.mt-30[data-v-5e7474c0]{margin-top:%?30?%}.border-top[data-v-5e7474c0]{border-top:1px solid #ebeef5}.describe[data-v-5e7474c0]{color:#909399;font-size:%?24?%;padding:%?30?%}.flex-center[data-v-5e7474c0]{display:flex;align-items:center;justify-content:center;flex-direction:column}.flex-a-c[data-v-5e7474c0]{align-items:center}.flex-j-sb[data-v-5e7474c0]{justify-content:space-between}.relative[data-v-5e7474c0]{position:relative}.wes[data-v-5e7474c0]{\n  /* 多出部分用省略号表示 , 用于一行 */overflow:hidden;word-wrap:normal;white-space:nowrap;text-overflow:ellipsis}.wes-2[data-v-5e7474c0]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.wes-3[data-v-5e7474c0]{\n  /* 适用于webkit内核和移动端 */display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}.sale[data-v-5e7474c0]{width:100%;min-height:100vh;background-color:#f7f7f7}.nodata[data-v-5e7474c0]{flex-direction:column;display:flex;width:100%;justify-content:center;align-items:center;margin-top:%?40?%}.nodata > div[data-v-5e7474c0]{font-size:%?24?%;margin-top:%?20?%;color:#666}.header-wraper[data-v-5e7474c0]{background:url(/static/bg.png);height:%?200?%;display:flex;align-items:center;justify-content:center}.header-wraper > uni-image[data-v-5e7474c0]{width:%?300?%;height:%?100?%}.sale-items[data-v-5e7474c0]{padding-top:%?20?%}.index-navs[data-v-5e7474c0]{background:#fff;background-color:#f7f7f7;display:-webkit-box;display:-webkit-flex;display:flex;align-items:center;justify-content:space-between}.index-nav-v[data-v-5e7474c0]{display:-webkit-box;display:-webkit-flex;display:flex;justify-content:center;align-items:center;position:relative}.index-nav[data-v-5e7474c0]{font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:flex;justify-content:center;align-items:center;width:%?150?%;flex-direction:column;color:#bababa;height:%?115?%;line-height:1em;position:relative;font-size:%?32?%;font-weight:700}.index-nav-active[data-v-5e7474c0]{color:#ff3c2a;position:relative;z-index:30}.index-nav-active .index-nav-desc[data-v-5e7474c0]{color:#fff;font-weight:700;background:#ff3c2a;padding:%?6?% %?16?%;border-radius:50px}.index-nav-desc[data-v-5e7474c0]{margin-top:%?8?%;font-size:%?22?%;color:#bababa}',""]),e.exports=t},b289:function(e,t,i){"use strict";i.r(t);var a=i("249d"),n=i("3833");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("6eed");var r=i("828b"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"5e7474c0",null,!1,a["a"],void 0);t["default"]=s.exports},f314:function(e,t,i){var a=i("8272");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("967d").default;n("34bd8db2",a,!0,{sourceMap:!1,shadowMode:!1})}}]);